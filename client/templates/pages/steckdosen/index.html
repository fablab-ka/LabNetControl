<template name="hwSteckdosenPage">
  <h2>Steckdosenleisten</h2>
  {{>addSocketModal}}
  {{>editSocketModal}}
  {{#each rittal}}
    <div class="block full">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            {{name}} 
            {{#if description}} ({{description}}) {{/if}} 
            {{>editSocketButton id=_id}}
          </h3>
        </div>
        <div class="panel-body row">
          {{#each arrayify plugs}}
            {{#if state.user_switchable}}
            <div class="col-xs-6 col-sm-4 col-lg-2">
              <div class="block-section text-center">
                <h4>{{#if name}}{{name}}{{else}}unused{{/if}}</h4>
                <button leiste="{{../_id}}" plug="{{key}}" class="plug_on btn {{#if state.current}} btn-success {{else}} btn-default {{/if}}">ON</button>
                <button leiste="{{../_id}}" plug="{{key}}" class="plug_off btn {{#unless state.current}} btn-danger {{else}} btn-default {{/unless}}">OFF</button>
              </div>
            </div>
            {{/if}}
          {{/each}}
        </div>
      </div>
    </div>
  {{/each}}
  {{>addSocketButton}}
</template>
